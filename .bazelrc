common --enable_platform_specific_config --experimental_enable_bzlmod

# when using repo standalone, we want still to unlock loading the internal repository module
# actually using things from that module will obviously end up in an error
common --override_module=semmle_code=%workspace%/misc/bazel/semmle_code_stub

build --repo_env=CC=clang --repo_env=CXX=clang++

build:linux --cxxopt=-std=c++20
build:macos --cxxopt=-std=c++20 --cpu=darwin_x86_64
build:windows --cxxopt=/std:c++20 --cxxopt=/Zc:preprocessor

try-import %workspace%/local.bazelrc
