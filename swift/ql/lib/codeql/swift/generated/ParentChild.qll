// generated by codegen/codegen.py
import codeql.swift.elements

module Impl {
  int getMaximumChildrenIndexElement(Element e) {
    e = e and
    result = 0
  }

  int getMaximumChildrenIndexCallable(Callable e) {
    result =
      0 + getMaximumChildrenIndexElement(e) + 1 + 1 +
        max(int i | exists(e.getImmediateParam(i)) | i) + 1
  }

  int getMaximumChildrenIndexFile(File e) { result = 0 + getMaximumChildrenIndexElement(e) }

  int getMaximumChildrenIndexGenericContext(GenericContext e) {
    result = 0 + getMaximumChildrenIndexElement(e)
  }

  int getMaximumChildrenIndexIterableDeclContext(IterableDeclContext e) {
    result = 0 + getMaximumChildrenIndexElement(e)
  }

  int getMaximumChildrenIndexLocatable(Locatable e) {
    result = 0 + getMaximumChildrenIndexElement(e)
  }

  int getMaximumChildrenIndexLocation(Location e) { result = 0 + getMaximumChildrenIndexElement(e) }

  int getMaximumChildrenIndexType(Type e) { result = 0 + getMaximumChildrenIndexElement(e) }

  int getMaximumChildrenIndexAnyFunctionType(AnyFunctionType e) {
    result = 0 + getMaximumChildrenIndexType(e)
  }

  int getMaximumChildrenIndexAnyGenericType(AnyGenericType e) {
    result = 0 + getMaximumChildrenIndexType(e)
  }

  int getMaximumChildrenIndexAnyMetatypeType(AnyMetatypeType e) {
    result = 0 + getMaximumChildrenIndexType(e)
  }

  int getMaximumChildrenIndexArgument(Argument e) {
    result = 0 + getMaximumChildrenIndexLocatable(e) + 1
  }

  int getMaximumChildrenIndexAstNode(AstNode e) { result = 0 + getMaximumChildrenIndexLocatable(e) }

  int getMaximumChildrenIndexBuiltinType(BuiltinType e) {
    result = 0 + getMaximumChildrenIndexType(e)
  }

  int getMaximumChildrenIndexComment(Comment e) { result = 0 + getMaximumChildrenIndexLocatable(e) }

  int getMaximumChildrenIndexConditionElement(ConditionElement e) {
    result = 0 + getMaximumChildrenIndexLocatable(e) + 1 + 1 + 1
  }

  int getMaximumChildrenIndexDbFile(DbFile e) { result = 0 + getMaximumChildrenIndexFile(e) }

  int getMaximumChildrenIndexDbLocation(DbLocation e) {
    result = 0 + getMaximumChildrenIndexLocation(e)
  }

  int getMaximumChildrenIndexDependentMemberType(DependentMemberType e) {
    result = 0 + getMaximumChildrenIndexType(e)
  }

  int getMaximumChildrenIndexDynamicSelfType(DynamicSelfType e) {
    result = 0 + getMaximumChildrenIndexType(e)
  }

  int getMaximumChildrenIndexErrorType(ErrorType e) { result = 0 + getMaximumChildrenIndexType(e) }

  int getMaximumChildrenIndexExistentialType(ExistentialType e) {
    result = 0 + getMaximumChildrenIndexType(e)
  }

  int getMaximumChildrenIndexIfConfigClause(IfConfigClause e) {
    result =
      0 + getMaximumChildrenIndexLocatable(e) + 1 + 1 +
        max(int i | exists(e.getImmediateElement(i)) | i)
  }

  int getMaximumChildrenIndexInOutType(InOutType e) { result = 0 + getMaximumChildrenIndexType(e) }

  int getMaximumChildrenIndexLValueType(LValueType e) {
    result = 0 + getMaximumChildrenIndexType(e)
  }

  int getMaximumChildrenIndexModuleType(ModuleType e) {
    result = 0 + getMaximumChildrenIndexType(e)
  }

  int getMaximumChildrenIndexPlaceholderType(PlaceholderType e) {
    result = 0 + getMaximumChildrenIndexType(e)
  }

  int getMaximumChildrenIndexProtocolCompositionType(ProtocolCompositionType e) {
    result = 0 + getMaximumChildrenIndexType(e)
  }

  int getMaximumChildrenIndexReferenceStorageType(ReferenceStorageType e) {
    result = 0 + getMaximumChildrenIndexType(e)
  }

  int getMaximumChildrenIndexSilBlockStorageType(SilBlockStorageType e) {
    result = 0 + getMaximumChildrenIndexType(e)
  }

  int getMaximumChildrenIndexSilBoxType(SilBoxType e) {
    result = 0 + getMaximumChildrenIndexType(e)
  }

  int getMaximumChildrenIndexSilFunctionType(SilFunctionType e) {
    result = 0 + getMaximumChildrenIndexType(e)
  }

  int getMaximumChildrenIndexSilTokenType(SilTokenType e) {
    result = 0 + getMaximumChildrenIndexType(e)
  }

  int getMaximumChildrenIndexSubstitutableType(SubstitutableType e) {
    result = 0 + getMaximumChildrenIndexType(e)
  }

  int getMaximumChildrenIndexSugarType(SugarType e) { result = 0 + getMaximumChildrenIndexType(e) }

  int getMaximumChildrenIndexTupleType(TupleType e) { result = 0 + getMaximumChildrenIndexType(e) }

  int getMaximumChildrenIndexTypeVariableType(TypeVariableType e) {
    result = 0 + getMaximumChildrenIndexType(e)
  }

  int getMaximumChildrenIndexUnknownFile(UnknownFile e) {
    result = 0 + getMaximumChildrenIndexFile(e)
  }

  int getMaximumChildrenIndexUnknownLocation(UnknownLocation e) {
    result = 0 + getMaximumChildrenIndexLocation(e)
  }

  int getMaximumChildrenIndexUnresolvedType(UnresolvedType e) {
    result = 0 + getMaximumChildrenIndexType(e)
  }

  int getMaximumChildrenIndexAnyBuiltinIntegerType(AnyBuiltinIntegerType e) {
    result = 0 + getMaximumChildrenIndexBuiltinType(e)
  }

  int getMaximumChildrenIndexArchetypeType(ArchetypeType e) {
    result = 0 + getMaximumChildrenIndexSubstitutableType(e)
  }

  int getMaximumChildrenIndexBuiltinBridgeObjectType(BuiltinBridgeObjectType e) {
    result = 0 + getMaximumChildrenIndexBuiltinType(e)
  }

  int getMaximumChildrenIndexBuiltinDefaultActorStorageType(BuiltinDefaultActorStorageType e) {
    result = 0 + getMaximumChildrenIndexBuiltinType(e)
  }

  int getMaximumChildrenIndexBuiltinExecutorType(BuiltinExecutorType e) {
    result = 0 + getMaximumChildrenIndexBuiltinType(e)
  }

  int getMaximumChildrenIndexBuiltinFloatType(BuiltinFloatType e) {
    result = 0 + getMaximumChildrenIndexBuiltinType(e)
  }

  int getMaximumChildrenIndexBuiltinJobType(BuiltinJobType e) {
    result = 0 + getMaximumChildrenIndexBuiltinType(e)
  }

  int getMaximumChildrenIndexBuiltinNativeObjectType(BuiltinNativeObjectType e) {
    result = 0 + getMaximumChildrenIndexBuiltinType(e)
  }

  int getMaximumChildrenIndexBuiltinRawPointerType(BuiltinRawPointerType e) {
    result = 0 + getMaximumChildrenIndexBuiltinType(e)
  }

  int getMaximumChildrenIndexBuiltinRawUnsafeContinuationType(BuiltinRawUnsafeContinuationType e) {
    result = 0 + getMaximumChildrenIndexBuiltinType(e)
  }

  int getMaximumChildrenIndexBuiltinUnsafeValueBufferType(BuiltinUnsafeValueBufferType e) {
    result = 0 + getMaximumChildrenIndexBuiltinType(e)
  }

  int getMaximumChildrenIndexBuiltinVectorType(BuiltinVectorType e) {
    result = 0 + getMaximumChildrenIndexBuiltinType(e)
  }

  int getMaximumChildrenIndexCaseLabelItem(CaseLabelItem e) {
    result = 0 + getMaximumChildrenIndexAstNode(e) + 1 + 1
  }

  int getMaximumChildrenIndexDecl(Decl e) { result = 0 + getMaximumChildrenIndexAstNode(e) }

  int getMaximumChildrenIndexExistentialMetatypeType(ExistentialMetatypeType e) {
    result = 0 + getMaximumChildrenIndexAnyMetatypeType(e)
  }

  int getMaximumChildrenIndexExpr(Expr e) { result = 0 + getMaximumChildrenIndexAstNode(e) }

  int getMaximumChildrenIndexFunctionType(FunctionType e) {
    result = 0 + getMaximumChildrenIndexAnyFunctionType(e)
  }

  int getMaximumChildrenIndexGenericFunctionType(GenericFunctionType e) {
    result = 0 + getMaximumChildrenIndexAnyFunctionType(e)
  }

  int getMaximumChildrenIndexGenericTypeParamType(GenericTypeParamType e) {
    result = 0 + getMaximumChildrenIndexSubstitutableType(e)
  }

  int getMaximumChildrenIndexMetatypeType(MetatypeType e) {
    result = 0 + getMaximumChildrenIndexAnyMetatypeType(e)
  }

  int getMaximumChildrenIndexNominalOrBoundGenericNominalType(NominalOrBoundGenericNominalType e) {
    result = 0 + getMaximumChildrenIndexAnyGenericType(e)
  }

  int getMaximumChildrenIndexParenType(ParenType e) {
    result = 0 + getMaximumChildrenIndexSugarType(e)
  }

  int getMaximumChildrenIndexPattern(Pattern e) { result = 0 + getMaximumChildrenIndexAstNode(e) }

  int getMaximumChildrenIndexStmt(Stmt e) { result = 0 + getMaximumChildrenIndexAstNode(e) }

  int getMaximumChildrenIndexStmtCondition(StmtCondition e) {
    result =
      0 + getMaximumChildrenIndexAstNode(e) + 1 + max(int i | exists(e.getImmediateElement(i)) | i)
  }

  int getMaximumChildrenIndexSyntaxSugarType(SyntaxSugarType e) {
    result = 0 + getMaximumChildrenIndexSugarType(e)
  }

  int getMaximumChildrenIndexTypeAliasType(TypeAliasType e) {
    result = 0 + getMaximumChildrenIndexSugarType(e)
  }

  int getMaximumChildrenIndexTypeRepr(TypeRepr e) { result = 0 + getMaximumChildrenIndexAstNode(e) }

  int getMaximumChildrenIndexUnboundGenericType(UnboundGenericType e) {
    result = 0 + getMaximumChildrenIndexAnyGenericType(e)
  }

  int getMaximumChildrenIndexUnmanagedStorageType(UnmanagedStorageType e) {
    result = 0 + getMaximumChildrenIndexReferenceStorageType(e)
  }

  int getMaximumChildrenIndexUnownedStorageType(UnownedStorageType e) {
    result = 0 + getMaximumChildrenIndexReferenceStorageType(e)
  }

  int getMaximumChildrenIndexWeakStorageType(WeakStorageType e) {
    result = 0 + getMaximumChildrenIndexReferenceStorageType(e)
  }

  int getMaximumChildrenIndexAbstractClosureExpr(AbstractClosureExpr e) {
    result = 0 + getMaximumChildrenIndexCallable(e) + getMaximumChildrenIndexExpr(e)
  }

  int getMaximumChildrenIndexAnyPattern(AnyPattern e) {
    result = 0 + getMaximumChildrenIndexPattern(e)
  }

  int getMaximumChildrenIndexAnyTryExpr(AnyTryExpr e) {
    result = 0 + getMaximumChildrenIndexExpr(e) + 1
  }

  int getMaximumChildrenIndexAppliedPropertyWrapperExpr(AppliedPropertyWrapperExpr e) {
    result = 0 + getMaximumChildrenIndexExpr(e)
  }

  int getMaximumChildrenIndexApplyExpr(ApplyExpr e) {
    result =
      0 + getMaximumChildrenIndexExpr(e) + 1 + 1 +
        max(int i | exists(e.getImmediateArgument(i)) | i)
  }

  int getMaximumChildrenIndexArrowExpr(ArrowExpr e) { result = 0 + getMaximumChildrenIndexExpr(e) }

  int getMaximumChildrenIndexAssignExpr(AssignExpr e) {
    result = 0 + getMaximumChildrenIndexExpr(e) + 1 + 1
  }

  int getMaximumChildrenIndexBindOptionalExpr(BindOptionalExpr e) {
    result = 0 + getMaximumChildrenIndexExpr(e) + 1
  }

  int getMaximumChildrenIndexBindingPattern(BindingPattern e) {
    result = 0 + getMaximumChildrenIndexPattern(e) + 1
  }

  int getMaximumChildrenIndexBoolPattern(BoolPattern e) {
    result = 0 + getMaximumChildrenIndexPattern(e)
  }

  int getMaximumChildrenIndexBoundGenericType(BoundGenericType e) {
    result = 0 + getMaximumChildrenIndexNominalOrBoundGenericNominalType(e)
  }

  int getMaximumChildrenIndexBraceStmt(BraceStmt e) {
    result =
      0 + getMaximumChildrenIndexStmt(e) + 1 + max(int i | exists(e.getImmediateElement(i)) | i)
  }

  int getMaximumChildrenIndexBreakStmt(BreakStmt e) { result = 0 + getMaximumChildrenIndexStmt(e) }

  int getMaximumChildrenIndexBuiltinIntegerLiteralType(BuiltinIntegerLiteralType e) {
    result = 0 + getMaximumChildrenIndexAnyBuiltinIntegerType(e)
  }

  int getMaximumChildrenIndexBuiltinIntegerType(BuiltinIntegerType e) {
    result = 0 + getMaximumChildrenIndexAnyBuiltinIntegerType(e)
  }

  int getMaximumChildrenIndexCaptureListExpr(CaptureListExpr e) {
    result =
      0 + getMaximumChildrenIndexExpr(e) + 1 + max(int i | exists(e.getImmediateBindingDecl(i)) | i)
        + 1
  }

  int getMaximumChildrenIndexCaseStmt(CaseStmt e) {
    result =
      0 + getMaximumChildrenIndexStmt(e) + 1 + 1 + max(int i | exists(e.getImmediateLabel(i)) | i)
  }

  int getMaximumChildrenIndexCodeCompletionExpr(CodeCompletionExpr e) {
    result = 0 + getMaximumChildrenIndexExpr(e)
  }

  int getMaximumChildrenIndexCollectionExpr(CollectionExpr e) {
    result = 0 + getMaximumChildrenIndexExpr(e)
  }

  int getMaximumChildrenIndexContinueStmt(ContinueStmt e) {
    result = 0 + getMaximumChildrenIndexStmt(e)
  }

  int getMaximumChildrenIndexDeclRefExpr(DeclRefExpr e) {
    result = 0 + getMaximumChildrenIndexExpr(e)
  }

  int getMaximumChildrenIndexDefaultArgumentExpr(DefaultArgumentExpr e) {
    result = 0 + getMaximumChildrenIndexExpr(e)
  }

  int getMaximumChildrenIndexDeferStmt(DeferStmt e) {
    result = 0 + getMaximumChildrenIndexStmt(e) + 1
  }

  int getMaximumChildrenIndexDictionaryType(DictionaryType e) {
    result = 0 + getMaximumChildrenIndexSyntaxSugarType(e)
  }

  int getMaximumChildrenIndexDiscardAssignmentExpr(DiscardAssignmentExpr e) {
    result = 0 + getMaximumChildrenIndexExpr(e)
  }

  int getMaximumChildrenIndexDotSyntaxBaseIgnoredExpr(DotSyntaxBaseIgnoredExpr e) {
    result = 0 + getMaximumChildrenIndexExpr(e) + 1 + 1
  }

  int getMaximumChildrenIndexDynamicTypeExpr(DynamicTypeExpr e) {
    result = 0 + getMaximumChildrenIndexExpr(e) + 1
  }

  int getMaximumChildrenIndexEditorPlaceholderExpr(EditorPlaceholderExpr e) {
    result = 0 + getMaximumChildrenIndexExpr(e)
  }

  int getMaximumChildrenIndexEnumCaseDecl(EnumCaseDecl e) {
    result =
      0 + getMaximumChildrenIndexDecl(e) + 1 + max(int i | exists(e.getImmediateElement(i)) | i)
  }

  int getMaximumChildrenIndexEnumElementPattern(EnumElementPattern e) {
    result = 0 + getMaximumChildrenIndexPattern(e) + 1
  }

  int getMaximumChildrenIndexEnumIsCaseExpr(EnumIsCaseExpr e) {
    result = 0 + getMaximumChildrenIndexExpr(e) + 1
  }

  int getMaximumChildrenIndexErrorExpr(ErrorExpr e) { result = 0 + getMaximumChildrenIndexExpr(e) }

  int getMaximumChildrenIndexExplicitCastExpr(ExplicitCastExpr e) {
    result = 0 + getMaximumChildrenIndexExpr(e) + 1
  }

  int getMaximumChildrenIndexExprPattern(ExprPattern e) {
    result = 0 + getMaximumChildrenIndexPattern(e) + 1
  }

  int getMaximumChildrenIndexExtensionDecl(ExtensionDecl e) {
    result =
      0 + getMaximumChildrenIndexDecl(e) + getMaximumChildrenIndexGenericContext(e) +
        getMaximumChildrenIndexIterableDeclContext(e)
  }

  int getMaximumChildrenIndexFailStmt(FailStmt e) { result = 0 + getMaximumChildrenIndexStmt(e) }

  int getMaximumChildrenIndexFallthroughStmt(FallthroughStmt e) {
    result = 0 + getMaximumChildrenIndexStmt(e)
  }

  int getMaximumChildrenIndexForceValueExpr(ForceValueExpr e) {
    result = 0 + getMaximumChildrenIndexExpr(e) + 1
  }

  int getMaximumChildrenIndexIdentityExpr(IdentityExpr e) {
    result = 0 + getMaximumChildrenIndexExpr(e) + 1
  }

  int getMaximumChildrenIndexIfConfigDecl(IfConfigDecl e) {
    result =
      0 + getMaximumChildrenIndexDecl(e) + 1 + max(int i | exists(e.getImmediateClause(i)) | i)
  }

  int getMaximumChildrenIndexIfExpr(IfExpr e) {
    result = 0 + getMaximumChildrenIndexExpr(e) + 1 + 1 + 1
  }

  int getMaximumChildrenIndexImplicitConversionExpr(ImplicitConversionExpr e) {
    result = 0 + getMaximumChildrenIndexExpr(e) + 1
  }

  int getMaximumChildrenIndexImportDecl(ImportDecl e) {
    result = 0 + getMaximumChildrenIndexDecl(e)
  }

  int getMaximumChildrenIndexInOutExpr(InOutExpr e) {
    result = 0 + getMaximumChildrenIndexExpr(e) + 1
  }

  int getMaximumChildrenIndexIsPattern(IsPattern e) {
    result = 0 + getMaximumChildrenIndexPattern(e) + 1 + 1
  }

  int getMaximumChildrenIndexKeyPathApplicationExpr(KeyPathApplicationExpr e) {
    result = 0 + getMaximumChildrenIndexExpr(e) + 1 + 1
  }

  int getMaximumChildrenIndexKeyPathDotExpr(KeyPathDotExpr e) {
    result = 0 + getMaximumChildrenIndexExpr(e)
  }

  int getMaximumChildrenIndexKeyPathExpr(KeyPathExpr e) {
    result = 0 + getMaximumChildrenIndexExpr(e) + 1 + 1
  }

  int getMaximumChildrenIndexLabeledStmt(LabeledStmt e) {
    result = 0 + getMaximumChildrenIndexStmt(e)
  }

  int getMaximumChildrenIndexLazyInitializerExpr(LazyInitializerExpr e) {
    result = 0 + getMaximumChildrenIndexExpr(e) + 1
  }

  int getMaximumChildrenIndexLiteralExpr(LiteralExpr e) {
    result = 0 + getMaximumChildrenIndexExpr(e)
  }

  int getMaximumChildrenIndexLookupExpr(LookupExpr e) {
    result = 0 + getMaximumChildrenIndexExpr(e) + 1
  }

  int getMaximumChildrenIndexMakeTemporarilyEscapableExpr(MakeTemporarilyEscapableExpr e) {
    result = 0 + getMaximumChildrenIndexExpr(e) + 1 + 1 + 1
  }

  int getMaximumChildrenIndexMissingMemberDecl(MissingMemberDecl e) {
    result = 0 + getMaximumChildrenIndexDecl(e)
  }

  int getMaximumChildrenIndexNamedPattern(NamedPattern e) {
    result = 0 + getMaximumChildrenIndexPattern(e)
  }

  int getMaximumChildrenIndexNestedArchetypeType(NestedArchetypeType e) {
    result = 0 + getMaximumChildrenIndexArchetypeType(e)
  }

  int getMaximumChildrenIndexNominalType(NominalType e) {
    result = 0 + getMaximumChildrenIndexNominalOrBoundGenericNominalType(e)
  }

  int getMaximumChildrenIndexObjCSelectorExpr(ObjCSelectorExpr e) {
    result = 0 + getMaximumChildrenIndexExpr(e) + 1
  }

  int getMaximumChildrenIndexOneWayExpr(OneWayExpr e) {
    result = 0 + getMaximumChildrenIndexExpr(e) + 1
  }

  int getMaximumChildrenIndexOpaqueTypeArchetypeType(OpaqueTypeArchetypeType e) {
    result = 0 + getMaximumChildrenIndexArchetypeType(e)
  }

  int getMaximumChildrenIndexOpaqueValueExpr(OpaqueValueExpr e) {
    result = 0 + getMaximumChildrenIndexExpr(e)
  }

  int getMaximumChildrenIndexOpenExistentialExpr(OpenExistentialExpr e) {
    result = 0 + getMaximumChildrenIndexExpr(e) + 1 + 1 + 1
  }

  int getMaximumChildrenIndexOpenedArchetypeType(OpenedArchetypeType e) {
    result = 0 + getMaximumChildrenIndexArchetypeType(e)
  }

  int getMaximumChildrenIndexOperatorDecl(OperatorDecl e) {
    result = 0 + getMaximumChildrenIndexDecl(e)
  }

  int getMaximumChildrenIndexOptionalEvaluationExpr(OptionalEvaluationExpr e) {
    result = 0 + getMaximumChildrenIndexExpr(e) + 1
  }

  int getMaximumChildrenIndexOptionalSomePattern(OptionalSomePattern e) {
    result = 0 + getMaximumChildrenIndexPattern(e) + 1
  }

  int getMaximumChildrenIndexOtherConstructorDeclRefExpr(OtherConstructorDeclRefExpr e) {
    result = 0 + getMaximumChildrenIndexExpr(e)
  }

  int getMaximumChildrenIndexOverloadSetRefExpr(OverloadSetRefExpr e) {
    result = 0 + getMaximumChildrenIndexExpr(e)
  }

  int getMaximumChildrenIndexParenPattern(ParenPattern e) {
    result = 0 + getMaximumChildrenIndexPattern(e) + 1
  }

  int getMaximumChildrenIndexPatternBindingDecl(PatternBindingDecl e) {
    result =
      0 + getMaximumChildrenIndexDecl(e) + 1 + max(int i | exists(e.getImmediateInit(i)) | i) + 1 +
        max(int i | exists(e.getImmediatePattern(i)) | i)
  }

  int getMaximumChildrenIndexPoundAssertStmt(PoundAssertStmt e) {
    result = 0 + getMaximumChildrenIndexStmt(e)
  }

  int getMaximumChildrenIndexPoundDiagnosticDecl(PoundDiagnosticDecl e) {
    result = 0 + getMaximumChildrenIndexDecl(e)
  }

  int getMaximumChildrenIndexPrecedenceGroupDecl(PrecedenceGroupDecl e) {
    result = 0 + getMaximumChildrenIndexDecl(e)
  }

  int getMaximumChildrenIndexPrimaryArchetypeType(PrimaryArchetypeType e) {
    result = 0 + getMaximumChildrenIndexArchetypeType(e)
  }

  int getMaximumChildrenIndexPropertyWrapperValuePlaceholderExpr(
    PropertyWrapperValuePlaceholderExpr e
  ) {
    result = 0 + getMaximumChildrenIndexExpr(e)
  }

  int getMaximumChildrenIndexRebindSelfInConstructorExpr(RebindSelfInConstructorExpr e) {
    result = 0 + getMaximumChildrenIndexExpr(e) + 1
  }

  int getMaximumChildrenIndexReturnStmt(ReturnStmt e) {
    result = 0 + getMaximumChildrenIndexStmt(e) + 1
  }

  int getMaximumChildrenIndexSequenceArchetypeType(SequenceArchetypeType e) {
    result = 0 + getMaximumChildrenIndexArchetypeType(e)
  }

  int getMaximumChildrenIndexSequenceExpr(SequenceExpr e) {
    result =
      0 + getMaximumChildrenIndexExpr(e) + 1 + max(int i | exists(e.getImmediateElement(i)) | i)
  }

  int getMaximumChildrenIndexSuperRefExpr(SuperRefExpr e) {
    result = 0 + getMaximumChildrenIndexExpr(e)
  }

  int getMaximumChildrenIndexTapExpr(TapExpr e) {
    result = 0 + getMaximumChildrenIndexExpr(e) + 1 + 1
  }

  int getMaximumChildrenIndexThrowStmt(ThrowStmt e) {
    result = 0 + getMaximumChildrenIndexStmt(e) + 1
  }

  int getMaximumChildrenIndexTopLevelCodeDecl(TopLevelCodeDecl e) {
    result = 0 + getMaximumChildrenIndexDecl(e) + 1
  }

  int getMaximumChildrenIndexTupleElementExpr(TupleElementExpr e) {
    result = 0 + getMaximumChildrenIndexExpr(e) + 1
  }

  int getMaximumChildrenIndexTupleExpr(TupleExpr e) {
    result =
      0 + getMaximumChildrenIndexExpr(e) + 1 + max(int i | exists(e.getImmediateElement(i)) | i)
  }

  int getMaximumChildrenIndexTuplePattern(TuplePattern e) {
    result =
      0 + getMaximumChildrenIndexPattern(e) + 1 + max(int i | exists(e.getImmediateElement(i)) | i)
  }

  int getMaximumChildrenIndexTypeExpr(TypeExpr e) {
    result = 0 + getMaximumChildrenIndexExpr(e) + 1
  }

  int getMaximumChildrenIndexTypedPattern(TypedPattern e) {
    result = 0 + getMaximumChildrenIndexPattern(e) + 1 + 1
  }

  int getMaximumChildrenIndexUnarySyntaxSugarType(UnarySyntaxSugarType e) {
    result = 0 + getMaximumChildrenIndexSyntaxSugarType(e)
  }

  int getMaximumChildrenIndexUnresolvedDeclRefExpr(UnresolvedDeclRefExpr e) {
    result = 0 + getMaximumChildrenIndexExpr(e)
  }

  int getMaximumChildrenIndexUnresolvedDotExpr(UnresolvedDotExpr e) {
    result = 0 + getMaximumChildrenIndexExpr(e) + 1
  }

  int getMaximumChildrenIndexUnresolvedMemberExpr(UnresolvedMemberExpr e) {
    result = 0 + getMaximumChildrenIndexExpr(e)
  }

  int getMaximumChildrenIndexUnresolvedPatternExpr(UnresolvedPatternExpr e) {
    result = 0 + getMaximumChildrenIndexExpr(e) + 1
  }

  int getMaximumChildrenIndexUnresolvedSpecializeExpr(UnresolvedSpecializeExpr e) {
    result = 0 + getMaximumChildrenIndexExpr(e)
  }

  int getMaximumChildrenIndexValueDecl(ValueDecl e) { result = 0 + getMaximumChildrenIndexDecl(e) }

  int getMaximumChildrenIndexVarargExpansionExpr(VarargExpansionExpr e) {
    result = 0 + getMaximumChildrenIndexExpr(e) + 1
  }

  int getMaximumChildrenIndexYieldStmt(YieldStmt e) {
    result =
      0 + getMaximumChildrenIndexStmt(e) + 1 + max(int i | exists(e.getImmediateResult(i)) | i)
  }

  int getMaximumChildrenIndexAbstractFunctionDecl(AbstractFunctionDecl e) {
    result =
      0 + getMaximumChildrenIndexCallable(e) + getMaximumChildrenIndexGenericContext(e) +
        getMaximumChildrenIndexValueDecl(e)
  }

  int getMaximumChildrenIndexAbstractStorageDecl(AbstractStorageDecl e) {
    result =
      0 + getMaximumChildrenIndexValueDecl(e) + 1 +
        max(int i | exists(e.getImmediateAccessorDecl(i)) | i)
  }

  int getMaximumChildrenIndexAnyHashableErasureExpr(AnyHashableErasureExpr e) {
    result = 0 + getMaximumChildrenIndexImplicitConversionExpr(e)
  }

  int getMaximumChildrenIndexArchetypeToSuperExpr(ArchetypeToSuperExpr e) {
    result = 0 + getMaximumChildrenIndexImplicitConversionExpr(e)
  }

  int getMaximumChildrenIndexArrayExpr(ArrayExpr e) {
    result =
      0 + getMaximumChildrenIndexCollectionExpr(e) + 1 +
        max(int i | exists(e.getImmediateElement(i)) | i)
  }

  int getMaximumChildrenIndexArraySliceType(ArraySliceType e) {
    result = 0 + getMaximumChildrenIndexUnarySyntaxSugarType(e)
  }

  int getMaximumChildrenIndexArrayToPointerExpr(ArrayToPointerExpr e) {
    result = 0 + getMaximumChildrenIndexImplicitConversionExpr(e)
  }

  int getMaximumChildrenIndexAutoClosureExpr(AutoClosureExpr e) {
    result = 0 + getMaximumChildrenIndexAbstractClosureExpr(e)
  }

  int getMaximumChildrenIndexAwaitExpr(AwaitExpr e) {
    result = 0 + getMaximumChildrenIndexIdentityExpr(e)
  }

  int getMaximumChildrenIndexBinaryExpr(BinaryExpr e) {
    result = 0 + getMaximumChildrenIndexApplyExpr(e)
  }

  int getMaximumChildrenIndexBoundGenericClassType(BoundGenericClassType e) {
    result = 0 + getMaximumChildrenIndexBoundGenericType(e)
  }

  int getMaximumChildrenIndexBoundGenericEnumType(BoundGenericEnumType e) {
    result = 0 + getMaximumChildrenIndexBoundGenericType(e)
  }

  int getMaximumChildrenIndexBoundGenericStructType(BoundGenericStructType e) {
    result = 0 + getMaximumChildrenIndexBoundGenericType(e)
  }

  int getMaximumChildrenIndexBridgeFromObjCExpr(BridgeFromObjCExpr e) {
    result = 0 + getMaximumChildrenIndexImplicitConversionExpr(e)
  }

  int getMaximumChildrenIndexBridgeToObjCExpr(BridgeToObjCExpr e) {
    result = 0 + getMaximumChildrenIndexImplicitConversionExpr(e)
  }

  int getMaximumChildrenIndexBuiltinLiteralExpr(BuiltinLiteralExpr e) {
    result = 0 + getMaximumChildrenIndexLiteralExpr(e)
  }

  int getMaximumChildrenIndexCallExpr(CallExpr e) {
    result = 0 + getMaximumChildrenIndexApplyExpr(e)
  }

  int getMaximumChildrenIndexCheckedCastExpr(CheckedCastExpr e) {
    result = 0 + getMaximumChildrenIndexExplicitCastExpr(e)
  }

  int getMaximumChildrenIndexClassMetatypeToObjectExpr(ClassMetatypeToObjectExpr e) {
    result = 0 + getMaximumChildrenIndexImplicitConversionExpr(e)
  }

  int getMaximumChildrenIndexClassType(ClassType e) {
    result = 0 + getMaximumChildrenIndexNominalType(e)
  }

  int getMaximumChildrenIndexClosureExpr(ClosureExpr e) {
    result = 0 + getMaximumChildrenIndexAbstractClosureExpr(e)
  }

  int getMaximumChildrenIndexCoerceExpr(CoerceExpr e) {
    result = 0 + getMaximumChildrenIndexExplicitCastExpr(e)
  }

  int getMaximumChildrenIndexCollectionUpcastConversionExpr(CollectionUpcastConversionExpr e) {
    result = 0 + getMaximumChildrenIndexImplicitConversionExpr(e)
  }

  int getMaximumChildrenIndexConditionalBridgeFromObjCExpr(ConditionalBridgeFromObjCExpr e) {
    result = 0 + getMaximumChildrenIndexImplicitConversionExpr(e)
  }

  int getMaximumChildrenIndexCovariantFunctionConversionExpr(CovariantFunctionConversionExpr e) {
    result = 0 + getMaximumChildrenIndexImplicitConversionExpr(e)
  }

  int getMaximumChildrenIndexCovariantReturnConversionExpr(CovariantReturnConversionExpr e) {
    result = 0 + getMaximumChildrenIndexImplicitConversionExpr(e)
  }

  int getMaximumChildrenIndexDerivedToBaseExpr(DerivedToBaseExpr e) {
    result = 0 + getMaximumChildrenIndexImplicitConversionExpr(e)
  }

  int getMaximumChildrenIndexDestructureTupleExpr(DestructureTupleExpr e) {
    result = 0 + getMaximumChildrenIndexImplicitConversionExpr(e)
  }

  int getMaximumChildrenIndexDictionaryExpr(DictionaryExpr e) {
    result =
      0 + getMaximumChildrenIndexCollectionExpr(e) + 1 +
        max(int i | exists(e.getImmediateElement(i)) | i)
  }

  int getMaximumChildrenIndexDifferentiableFunctionExpr(DifferentiableFunctionExpr e) {
    result = 0 + getMaximumChildrenIndexImplicitConversionExpr(e)
  }

  int getMaximumChildrenIndexDifferentiableFunctionExtractOriginalExpr(
    DifferentiableFunctionExtractOriginalExpr e
  ) {
    result = 0 + getMaximumChildrenIndexImplicitConversionExpr(e)
  }

  int getMaximumChildrenIndexDoCatchStmt(DoCatchStmt e) {
    result =
      0 + getMaximumChildrenIndexLabeledStmt(e) + 1 + 1 +
        max(int i | exists(e.getImmediateCatch(i)) | i)
  }

  int getMaximumChildrenIndexDoStmt(DoStmt e) {
    result = 0 + getMaximumChildrenIndexLabeledStmt(e) + 1
  }

  int getMaximumChildrenIndexDotSelfExpr(DotSelfExpr e) {
    result = 0 + getMaximumChildrenIndexIdentityExpr(e)
  }

  int getMaximumChildrenIndexDynamicLookupExpr(DynamicLookupExpr e) {
    result = 0 + getMaximumChildrenIndexLookupExpr(e)
  }

  int getMaximumChildrenIndexEnumElementDecl(EnumElementDecl e) {
    result =
      0 + getMaximumChildrenIndexValueDecl(e) + 1 + max(int i | exists(e.getImmediateParam(i)) | i)
  }

  int getMaximumChildrenIndexEnumType(EnumType e) {
    result = 0 + getMaximumChildrenIndexNominalType(e)
  }

  int getMaximumChildrenIndexErasureExpr(ErasureExpr e) {
    result = 0 + getMaximumChildrenIndexImplicitConversionExpr(e)
  }

  int getMaximumChildrenIndexExistentialMetatypeToObjectExpr(ExistentialMetatypeToObjectExpr e) {
    result = 0 + getMaximumChildrenIndexImplicitConversionExpr(e)
  }

  int getMaximumChildrenIndexForEachStmt(ForEachStmt e) {
    result = 0 + getMaximumChildrenIndexLabeledStmt(e) + 1 + 1 + 1 + 1
  }

  int getMaximumChildrenIndexForceTryExpr(ForceTryExpr e) {
    result = 0 + getMaximumChildrenIndexAnyTryExpr(e)
  }

  int getMaximumChildrenIndexForeignObjectConversionExpr(ForeignObjectConversionExpr e) {
    result = 0 + getMaximumChildrenIndexImplicitConversionExpr(e)
  }

  int getMaximumChildrenIndexFunctionConversionExpr(FunctionConversionExpr e) {
    result = 0 + getMaximumChildrenIndexImplicitConversionExpr(e)
  }

  int getMaximumChildrenIndexInOutToPointerExpr(InOutToPointerExpr e) {
    result = 0 + getMaximumChildrenIndexImplicitConversionExpr(e)
  }

  int getMaximumChildrenIndexInfixOperatorDecl(InfixOperatorDecl e) {
    result = 0 + getMaximumChildrenIndexOperatorDecl(e)
  }

  int getMaximumChildrenIndexInjectIntoOptionalExpr(InjectIntoOptionalExpr e) {
    result = 0 + getMaximumChildrenIndexImplicitConversionExpr(e)
  }

  int getMaximumChildrenIndexInterpolatedStringLiteralExpr(InterpolatedStringLiteralExpr e) {
    result = 0 + getMaximumChildrenIndexLiteralExpr(e) + 1 + 1 + 1
  }

  int getMaximumChildrenIndexLabeledConditionalStmt(LabeledConditionalStmt e) {
    result = 0 + getMaximumChildrenIndexLabeledStmt(e) + 1
  }

  int getMaximumChildrenIndexLinearFunctionExpr(LinearFunctionExpr e) {
    result = 0 + getMaximumChildrenIndexImplicitConversionExpr(e)
  }

  int getMaximumChildrenIndexLinearFunctionExtractOriginalExpr(LinearFunctionExtractOriginalExpr e) {
    result = 0 + getMaximumChildrenIndexImplicitConversionExpr(e)
  }

  int getMaximumChildrenIndexLinearToDifferentiableFunctionExpr(LinearToDifferentiableFunctionExpr e) {
    result = 0 + getMaximumChildrenIndexImplicitConversionExpr(e)
  }

  int getMaximumChildrenIndexLoadExpr(LoadExpr e) {
    result = 0 + getMaximumChildrenIndexImplicitConversionExpr(e)
  }

  int getMaximumChildrenIndexMemberRefExpr(MemberRefExpr e) {
    result = 0 + getMaximumChildrenIndexLookupExpr(e)
  }

  int getMaximumChildrenIndexMetatypeConversionExpr(MetatypeConversionExpr e) {
    result = 0 + getMaximumChildrenIndexImplicitConversionExpr(e)
  }

  int getMaximumChildrenIndexMethodRefExpr(MethodRefExpr e) {
    result = 0 + getMaximumChildrenIndexLookupExpr(e)
  }

  int getMaximumChildrenIndexNilLiteralExpr(NilLiteralExpr e) {
    result = 0 + getMaximumChildrenIndexLiteralExpr(e)
  }

  int getMaximumChildrenIndexObjectLiteralExpr(ObjectLiteralExpr e) {
    result = 0 + getMaximumChildrenIndexLiteralExpr(e)
  }

  int getMaximumChildrenIndexOptionalTryExpr(OptionalTryExpr e) {
    result = 0 + getMaximumChildrenIndexAnyTryExpr(e)
  }

  int getMaximumChildrenIndexOptionalType(OptionalType e) {
    result = 0 + getMaximumChildrenIndexUnarySyntaxSugarType(e)
  }

  int getMaximumChildrenIndexOverloadedDeclRefExpr(OverloadedDeclRefExpr e) {
    result = 0 + getMaximumChildrenIndexOverloadSetRefExpr(e)
  }

  int getMaximumChildrenIndexParenExpr(ParenExpr e) {
    result = 0 + getMaximumChildrenIndexIdentityExpr(e)
  }

  int getMaximumChildrenIndexPointerToPointerExpr(PointerToPointerExpr e) {
    result = 0 + getMaximumChildrenIndexImplicitConversionExpr(e)
  }

  int getMaximumChildrenIndexPostfixOperatorDecl(PostfixOperatorDecl e) {
    result = 0 + getMaximumChildrenIndexOperatorDecl(e)
  }

  int getMaximumChildrenIndexPostfixUnaryExpr(PostfixUnaryExpr e) {
    result = 0 + getMaximumChildrenIndexApplyExpr(e)
  }

  int getMaximumChildrenIndexPrefixOperatorDecl(PrefixOperatorDecl e) {
    result = 0 + getMaximumChildrenIndexOperatorDecl(e)
  }

  int getMaximumChildrenIndexPrefixUnaryExpr(PrefixUnaryExpr e) {
    result = 0 + getMaximumChildrenIndexApplyExpr(e)
  }

  int getMaximumChildrenIndexProtocolMetatypeToObjectExpr(ProtocolMetatypeToObjectExpr e) {
    result = 0 + getMaximumChildrenIndexImplicitConversionExpr(e)
  }

  int getMaximumChildrenIndexProtocolType(ProtocolType e) {
    result = 0 + getMaximumChildrenIndexNominalType(e)
  }

  int getMaximumChildrenIndexRegexLiteralExpr(RegexLiteralExpr e) {
    result = 0 + getMaximumChildrenIndexLiteralExpr(e)
  }

  int getMaximumChildrenIndexRepeatWhileStmt(RepeatWhileStmt e) {
    result = 0 + getMaximumChildrenIndexLabeledStmt(e) + 1 + 1
  }

  int getMaximumChildrenIndexSelfApplyExpr(SelfApplyExpr e) {
    result = 0 + getMaximumChildrenIndexApplyExpr(e) + 1
  }

  int getMaximumChildrenIndexStringToPointerExpr(StringToPointerExpr e) {
    result = 0 + getMaximumChildrenIndexImplicitConversionExpr(e)
  }

  int getMaximumChildrenIndexStructType(StructType e) {
    result = 0 + getMaximumChildrenIndexNominalType(e)
  }

  int getMaximumChildrenIndexSubscriptExpr(SubscriptExpr e) {
    result =
      0 + getMaximumChildrenIndexLookupExpr(e) + 1 +
        max(int i | exists(e.getImmediateArgument(i)) | i)
  }

  int getMaximumChildrenIndexSwitchStmt(SwitchStmt e) {
    result =
      0 + getMaximumChildrenIndexLabeledStmt(e) + 1 + 1 +
        max(int i | exists(e.getImmediateCase(i)) | i)
  }

  int getMaximumChildrenIndexTryExpr(TryExpr e) {
    result = 0 + getMaximumChildrenIndexAnyTryExpr(e)
  }

  int getMaximumChildrenIndexTypeDecl(TypeDecl e) {
    result = 0 + getMaximumChildrenIndexValueDecl(e)
  }

  int getMaximumChildrenIndexUnderlyingToOpaqueExpr(UnderlyingToOpaqueExpr e) {
    result = 0 + getMaximumChildrenIndexImplicitConversionExpr(e)
  }

  int getMaximumChildrenIndexUnevaluatedInstanceExpr(UnevaluatedInstanceExpr e) {
    result = 0 + getMaximumChildrenIndexImplicitConversionExpr(e)
  }

  int getMaximumChildrenIndexUnresolvedMemberChainResultExpr(UnresolvedMemberChainResultExpr e) {
    result = 0 + getMaximumChildrenIndexIdentityExpr(e)
  }

  int getMaximumChildrenIndexUnresolvedTypeConversionExpr(UnresolvedTypeConversionExpr e) {
    result = 0 + getMaximumChildrenIndexImplicitConversionExpr(e)
  }

  int getMaximumChildrenIndexVariadicSequenceType(VariadicSequenceType e) {
    result = 0 + getMaximumChildrenIndexUnarySyntaxSugarType(e)
  }

  int getMaximumChildrenIndexAbstractTypeParamDecl(AbstractTypeParamDecl e) {
    result = 0 + getMaximumChildrenIndexTypeDecl(e)
  }

  int getMaximumChildrenIndexBooleanLiteralExpr(BooleanLiteralExpr e) {
    result = 0 + getMaximumChildrenIndexBuiltinLiteralExpr(e)
  }

  int getMaximumChildrenIndexConditionalCheckedCastExpr(ConditionalCheckedCastExpr e) {
    result = 0 + getMaximumChildrenIndexCheckedCastExpr(e)
  }

  int getMaximumChildrenIndexConstructorDecl(ConstructorDecl e) {
    result = 0 + getMaximumChildrenIndexAbstractFunctionDecl(e)
  }

  int getMaximumChildrenIndexConstructorRefCallExpr(ConstructorRefCallExpr e) {
    result = 0 + getMaximumChildrenIndexSelfApplyExpr(e)
  }

  int getMaximumChildrenIndexDestructorDecl(DestructorDecl e) {
    result = 0 + getMaximumChildrenIndexAbstractFunctionDecl(e)
  }

  int getMaximumChildrenIndexDotSyntaxCallExpr(DotSyntaxCallExpr e) {
    result = 0 + getMaximumChildrenIndexSelfApplyExpr(e)
  }

  int getMaximumChildrenIndexDynamicMemberRefExpr(DynamicMemberRefExpr e) {
    result = 0 + getMaximumChildrenIndexDynamicLookupExpr(e)
  }

  int getMaximumChildrenIndexDynamicSubscriptExpr(DynamicSubscriptExpr e) {
    result = 0 + getMaximumChildrenIndexDynamicLookupExpr(e)
  }

  int getMaximumChildrenIndexForcedCheckedCastExpr(ForcedCheckedCastExpr e) {
    result = 0 + getMaximumChildrenIndexCheckedCastExpr(e)
  }

  int getMaximumChildrenIndexFuncDecl(FuncDecl e) {
    result = 0 + getMaximumChildrenIndexAbstractFunctionDecl(e)
  }

  int getMaximumChildrenIndexGenericTypeDecl(GenericTypeDecl e) {
    result = 0 + getMaximumChildrenIndexGenericContext(e) + getMaximumChildrenIndexTypeDecl(e)
  }

  int getMaximumChildrenIndexGuardStmt(GuardStmt e) {
    result = 0 + getMaximumChildrenIndexLabeledConditionalStmt(e) + 1
  }

  int getMaximumChildrenIndexIfStmt(IfStmt e) {
    result = 0 + getMaximumChildrenIndexLabeledConditionalStmt(e) + 1 + 1
  }

  int getMaximumChildrenIndexIsExpr(IsExpr e) {
    result = 0 + getMaximumChildrenIndexCheckedCastExpr(e)
  }

  int getMaximumChildrenIndexMagicIdentifierLiteralExpr(MagicIdentifierLiteralExpr e) {
    result = 0 + getMaximumChildrenIndexBuiltinLiteralExpr(e)
  }

  int getMaximumChildrenIndexModuleDecl(ModuleDecl e) {
    result = 0 + getMaximumChildrenIndexTypeDecl(e)
  }

  int getMaximumChildrenIndexNumberLiteralExpr(NumberLiteralExpr e) {
    result = 0 + getMaximumChildrenIndexBuiltinLiteralExpr(e)
  }

  int getMaximumChildrenIndexStringLiteralExpr(StringLiteralExpr e) {
    result = 0 + getMaximumChildrenIndexBuiltinLiteralExpr(e)
  }

  int getMaximumChildrenIndexSubscriptDecl(SubscriptDecl e) {
    result =
      0 + getMaximumChildrenIndexAbstractStorageDecl(e) + getMaximumChildrenIndexGenericContext(e) +
        1 + max(int i | exists(e.getImmediateParam(i)) | i)
  }

  int getMaximumChildrenIndexVarDecl(VarDecl e) {
    result = 0 + getMaximumChildrenIndexAbstractStorageDecl(e)
  }

  int getMaximumChildrenIndexWhileStmt(WhileStmt e) {
    result = 0 + getMaximumChildrenIndexLabeledConditionalStmt(e) + 1
  }

  int getMaximumChildrenIndexAccessorDecl(AccessorDecl e) {
    result = 0 + getMaximumChildrenIndexFuncDecl(e)
  }

  int getMaximumChildrenIndexAssociatedTypeDecl(AssociatedTypeDecl e) {
    result = 0 + getMaximumChildrenIndexAbstractTypeParamDecl(e)
  }

  int getMaximumChildrenIndexConcreteFuncDecl(ConcreteFuncDecl e) {
    result = 0 + getMaximumChildrenIndexFuncDecl(e)
  }

  int getMaximumChildrenIndexConcreteVarDecl(ConcreteVarDecl e) {
    result = 0 + getMaximumChildrenIndexVarDecl(e)
  }

  int getMaximumChildrenIndexFloatLiteralExpr(FloatLiteralExpr e) {
    result = 0 + getMaximumChildrenIndexNumberLiteralExpr(e)
  }

  int getMaximumChildrenIndexGenericTypeParamDecl(GenericTypeParamDecl e) {
    result = 0 + getMaximumChildrenIndexAbstractTypeParamDecl(e)
  }

  int getMaximumChildrenIndexIntegerLiteralExpr(IntegerLiteralExpr e) {
    result = 0 + getMaximumChildrenIndexNumberLiteralExpr(e)
  }

  int getMaximumChildrenIndexNominalTypeDecl(NominalTypeDecl e) {
    result =
      0 + getMaximumChildrenIndexGenericTypeDecl(e) + getMaximumChildrenIndexIterableDeclContext(e)
  }

  int getMaximumChildrenIndexOpaqueTypeDecl(OpaqueTypeDecl e) {
    result = 0 + getMaximumChildrenIndexGenericTypeDecl(e)
  }

  int getMaximumChildrenIndexParamDecl(ParamDecl e) {
    result = 0 + getMaximumChildrenIndexVarDecl(e)
  }

  int getMaximumChildrenIndexTypeAliasDecl(TypeAliasDecl e) {
    result = 0 + getMaximumChildrenIndexGenericTypeDecl(e)
  }

  int getMaximumChildrenIndexClassDecl(ClassDecl e) {
    result = 0 + getMaximumChildrenIndexNominalTypeDecl(e)
  }

  int getMaximumChildrenIndexEnumDecl(EnumDecl e) {
    result = 0 + getMaximumChildrenIndexNominalTypeDecl(e)
  }

  int getMaximumChildrenIndexProtocolDecl(ProtocolDecl e) {
    result = 0 + getMaximumChildrenIndexNominalTypeDecl(e)
  }

  int getMaximumChildrenIndexStructDecl(StructDecl e) {
    result = 0 + getMaximumChildrenIndexNominalTypeDecl(e)
  }

  /**
   * Gets any of the "immediate" children of `e`. "Immediate" means not taking into account node resolution: for example
   * if the AST child is the first of a series of conversions that would normally be hidden away, this will select the
   * next conversion down the hidden AST tree instead of the corresponding fully uncoverted node at the bottom.
   * Outside this module this file is mainly intended to be used to test uniqueness of parents.
   */
  cached
  Element getImmediateChild(Element e, int index, string partialAccessor) {
    // why does this look more complicated than it should?
    // * none() simplifies generation, as we can append `or ...` without a special case for the first item
    none()
    or
    exists(int n, int nSelfParam, int nParam, int nBody |
      n = 0 + getMaximumChildrenIndexElement(e) and
      nSelfParam = n + 1 and
      nParam = nSelfParam + 1 + max(int i | i = 0 or exists(e.(Callable).getImmediateParam(i)) | i) and
      nBody = nParam + 1 and
      (
        none()
        or
        index = n and
        result = e.(Callable).getImmediateSelfParam() and
        partialAccessor = "SelfParam()"
        or
        result = e.(Callable).getImmediateParam(index - nSelfParam) and
        partialAccessor = "Param(" + (index - nSelfParam).toString() + ")"
        or
        index = nParam and result = e.(Callable).getImmediateBody() and partialAccessor = "Body()"
      )
    )
    or
    exists(int n, int nExpr |
      n = 0 + getMaximumChildrenIndexLocatable(e) and
      nExpr = n + 1 and
      (
        none()
        or
        index = n and result = e.(Argument).getImmediateExpr() and partialAccessor = "Expr()"
      )
    )
    or
    exists(int n, int nBoolean, int nPattern, int nInitializer |
      n = 0 + getMaximumChildrenIndexLocatable(e) and
      nBoolean = n + 1 and
      nPattern = nBoolean + 1 and
      nInitializer = nPattern + 1 and
      (
        none()
        or
        index = n and
        result = e.(ConditionElement).getImmediateBoolean() and
        partialAccessor = "Boolean()"
        or
        index = nBoolean and
        result = e.(ConditionElement).getImmediatePattern() and
        partialAccessor = "Pattern()"
        or
        index = nPattern and
        result = e.(ConditionElement).getImmediateInitializer() and
        partialAccessor = "Initializer()"
      )
    )
    or
    exists(int n, int nCondition, int nElement |
      n = 0 + getMaximumChildrenIndexLocatable(e) and
      nCondition = n + 1 and
      nElement =
        nCondition + 1 + max(int i | i = 0 or exists(e.(IfConfigClause).getImmediateElement(i)) | i) and
      (
        none()
        or
        index = n and
        result = e.(IfConfigClause).getImmediateCondition() and
        partialAccessor = "Condition()"
        or
        result = e.(IfConfigClause).getImmediateElement(index - nCondition) and
        partialAccessor = "Element(" + (index - nCondition).toString() + ")"
      )
    )
    or
    exists(int n, int nPattern, int nGuard |
      n = 0 + getMaximumChildrenIndexAstNode(e) and
      nPattern = n + 1 and
      nGuard = nPattern + 1 and
      (
        none()
        or
        index = n and
        result = e.(CaseLabelItem).getImmediatePattern() and
        partialAccessor = "Pattern()"
        or
        index = nPattern and
        result = e.(CaseLabelItem).getImmediateGuard() and
        partialAccessor = "Guard()"
      )
    )
    or
    exists(int n, int nElement |
      n = 0 + getMaximumChildrenIndexAstNode(e) and
      nElement = n + 1 + max(int i | i = 0 or exists(e.(StmtCondition).getImmediateElement(i)) | i) and
      (
        none()
        or
        result = e.(StmtCondition).getImmediateElement(index - n) and
        partialAccessor = "Element(" + (index - n).toString() + ")"
      )
    )
    or
    exists(int n, int nSubExpr |
      n = 0 + getMaximumChildrenIndexExpr(e) and
      nSubExpr = n + 1 and
      (
        none()
        or
        index = n and
        result = e.(AnyTryExpr).getImmediateSubExpr() and
        partialAccessor = "SubExpr()"
      )
    )
    or
    exists(int n, int nFunction, int nArgument |
      n = 0 + getMaximumChildrenIndexExpr(e) and
      nFunction = n + 1 and
      nArgument =
        nFunction + 1 + max(int i | i = 0 or exists(e.(ApplyExpr).getImmediateArgument(i)) | i) and
      (
        none()
        or
        index = n and
        result = e.(ApplyExpr).getImmediateFunction() and
        partialAccessor = "Function()"
        or
        result = e.(ApplyExpr).getImmediateArgument(index - nFunction) and
        partialAccessor = "Argument(" + (index - nFunction).toString() + ")"
      )
    )
    or
    exists(int n, int nDest, int nSource |
      n = 0 + getMaximumChildrenIndexExpr(e) and
      nDest = n + 1 and
      nSource = nDest + 1 and
      (
        none()
        or
        index = n and result = e.(AssignExpr).getImmediateDest() and partialAccessor = "Dest()"
        or
        index = nDest and
        result = e.(AssignExpr).getImmediateSource() and
        partialAccessor = "Source()"
      )
    )
    or
    exists(int n, int nSubExpr |
      n = 0 + getMaximumChildrenIndexExpr(e) and
      nSubExpr = n + 1 and
      (
        none()
        or
        index = n and
        result = e.(BindOptionalExpr).getImmediateSubExpr() and
        partialAccessor = "SubExpr()"
      )
    )
    or
    exists(int n, int nSubPattern |
      n = 0 + getMaximumChildrenIndexPattern(e) and
      nSubPattern = n + 1 and
      (
        none()
        or
        index = n and
        result = e.(BindingPattern).getImmediateSubPattern() and
        partialAccessor = "SubPattern()"
      )
    )
    or
    exists(int n, int nElement |
      n = 0 + getMaximumChildrenIndexStmt(e) and
      nElement = n + 1 + max(int i | i = 0 or exists(e.(BraceStmt).getImmediateElement(i)) | i) and
      (
        none()
        or
        result = e.(BraceStmt).getImmediateElement(index - n) and
        partialAccessor = "Element(" + (index - n).toString() + ")"
      )
    )
    or
    exists(int n, int nBindingDecl, int nClosureBody |
      n = 0 + getMaximumChildrenIndexExpr(e) and
      nBindingDecl =
        n + 1 + max(int i | i = 0 or exists(e.(CaptureListExpr).getImmediateBindingDecl(i)) | i) and
      nClosureBody = nBindingDecl + 1 and
      (
        none()
        or
        result = e.(CaptureListExpr).getImmediateBindingDecl(index - n) and
        partialAccessor = "BindingDecl(" + (index - n).toString() + ")"
        or
        index = nBindingDecl and
        result = e.(CaptureListExpr).getImmediateClosureBody() and
        partialAccessor = "ClosureBody()"
      )
    )
    or
    exists(int n, int nBody, int nLabel |
      n = 0 + getMaximumChildrenIndexStmt(e) and
      nBody = n + 1 and
      nLabel = nBody + 1 + max(int i | i = 0 or exists(e.(CaseStmt).getImmediateLabel(i)) | i) and
      (
        none()
        or
        index = n and result = e.(CaseStmt).getImmediateBody() and partialAccessor = "Body()"
        or
        result = e.(CaseStmt).getImmediateLabel(index - nBody) and
        partialAccessor = "Label(" + (index - nBody).toString() + ")"
      )
    )
    or
    exists(int n, int nBody |
      n = 0 + getMaximumChildrenIndexStmt(e) and
      nBody = n + 1 and
      (
        none()
        or
        index = n and result = e.(DeferStmt).getImmediateBody() and partialAccessor = "Body()"
      )
    )
    or
    exists(int n, int nQualifier, int nSubExpr |
      n = 0 + getMaximumChildrenIndexExpr(e) and
      nQualifier = n + 1 and
      nSubExpr = nQualifier + 1 and
      (
        none()
        or
        index = n and
        result = e.(DotSyntaxBaseIgnoredExpr).getImmediateQualifier() and
        partialAccessor = "Qualifier()"
        or
        index = nQualifier and
        result = e.(DotSyntaxBaseIgnoredExpr).getImmediateSubExpr() and
        partialAccessor = "SubExpr()"
      )
    )
    or
    exists(int n, int nBase |
      n = 0 + getMaximumChildrenIndexExpr(e) and
      nBase = n + 1 and
      (
        none()
        or
        index = n and result = e.(DynamicTypeExpr).getImmediateBase() and partialAccessor = "Base()"
      )
    )
    or
    exists(int n, int nElement |
      n = 0 + getMaximumChildrenIndexDecl(e) and
      nElement = n + 1 + max(int i | i = 0 or exists(e.(EnumCaseDecl).getImmediateElement(i)) | i) and
      (
        none()
        or
        result = e.(EnumCaseDecl).getImmediateElement(index - n) and
        partialAccessor = "Element(" + (index - n).toString() + ")"
      )
    )
    or
    exists(int n, int nSubPattern |
      n = 0 + getMaximumChildrenIndexPattern(e) and
      nSubPattern = n + 1 and
      (
        none()
        or
        index = n and
        result = e.(EnumElementPattern).getImmediateSubPattern() and
        partialAccessor = "SubPattern()"
      )
    )
    or
    exists(int n, int nSubExpr |
      n = 0 + getMaximumChildrenIndexExpr(e) and
      nSubExpr = n + 1 and
      (
        none()
        or
        index = n and
        result = e.(EnumIsCaseExpr).getImmediateSubExpr() and
        partialAccessor = "SubExpr()"
      )
    )
    or
    exists(int n, int nSubExpr |
      n = 0 + getMaximumChildrenIndexExpr(e) and
      nSubExpr = n + 1 and
      (
        none()
        or
        index = n and
        result = e.(ExplicitCastExpr).getImmediateSubExpr() and
        partialAccessor = "SubExpr()"
      )
    )
    or
    exists(int n, int nSubExpr |
      n = 0 + getMaximumChildrenIndexPattern(e) and
      nSubExpr = n + 1 and
      (
        none()
        or
        index = n and
        result = e.(ExprPattern).getImmediateSubExpr() and
        partialAccessor = "SubExpr()"
      )
    )
    or
    exists(int n, int nSubExpr |
      n = 0 + getMaximumChildrenIndexExpr(e) and
      nSubExpr = n + 1 and
      (
        none()
        or
        index = n and
        result = e.(ForceValueExpr).getImmediateSubExpr() and
        partialAccessor = "SubExpr()"
      )
    )
    or
    exists(int n, int nSubExpr |
      n = 0 + getMaximumChildrenIndexExpr(e) and
      nSubExpr = n + 1 and
      (
        none()
        or
        index = n and
        result = e.(IdentityExpr).getImmediateSubExpr() and
        partialAccessor = "SubExpr()"
      )
    )
    or
    exists(int n, int nClause |
      n = 0 + getMaximumChildrenIndexDecl(e) and
      nClause = n + 1 + max(int i | i = 0 or exists(e.(IfConfigDecl).getImmediateClause(i)) | i) and
      (
        none()
        or
        result = e.(IfConfigDecl).getImmediateClause(index - n) and
        partialAccessor = "Clause(" + (index - n).toString() + ")"
      )
    )
    or
    exists(int n, int nCondition, int nThenExpr, int nElseExpr |
      n = 0 + getMaximumChildrenIndexExpr(e) and
      nCondition = n + 1 and
      nThenExpr = nCondition + 1 and
      nElseExpr = nThenExpr + 1 and
      (
        none()
        or
        index = n and
        result = e.(IfExpr).getImmediateCondition() and
        partialAccessor = "Condition()"
        or
        index = nCondition and
        result = e.(IfExpr).getImmediateThenExpr() and
        partialAccessor = "ThenExpr()"
        or
        index = nThenExpr and
        result = e.(IfExpr).getImmediateElseExpr() and
        partialAccessor = "ElseExpr()"
      )
    )
    or
    exists(int n, int nSubExpr |
      n = 0 + getMaximumChildrenIndexExpr(e) and
      nSubExpr = n + 1 and
      (
        none()
        or
        index = n and
        result = e.(ImplicitConversionExpr).getImmediateSubExpr() and
        partialAccessor = "SubExpr()"
      )
    )
    or
    exists(int n, int nSubExpr |
      n = 0 + getMaximumChildrenIndexExpr(e) and
      nSubExpr = n + 1 and
      (
        none()
        or
        index = n and result = e.(InOutExpr).getImmediateSubExpr() and partialAccessor = "SubExpr()"
      )
    )
    or
    exists(int n, int nCastTypeRepr, int nSubPattern |
      n = 0 + getMaximumChildrenIndexPattern(e) and
      nCastTypeRepr = n + 1 and
      nSubPattern = nCastTypeRepr + 1 and
      (
        none()
        or
        index = n and
        result = e.(IsPattern).getImmediateCastTypeRepr() and
        partialAccessor = "CastTypeRepr()"
        or
        index = nCastTypeRepr and
        result = e.(IsPattern).getImmediateSubPattern() and
        partialAccessor = "SubPattern()"
      )
    )
    or
    exists(int n, int nBase, int nKeyPath |
      n = 0 + getMaximumChildrenIndexExpr(e) and
      nBase = n + 1 and
      nKeyPath = nBase + 1 and
      (
        none()
        or
        index = n and
        result = e.(KeyPathApplicationExpr).getImmediateBase() and
        partialAccessor = "Base()"
        or
        index = nBase and
        result = e.(KeyPathApplicationExpr).getImmediateKeyPath() and
        partialAccessor = "KeyPath()"
      )
    )
    or
    exists(int n, int nRoot, int nParsedPath |
      n = 0 + getMaximumChildrenIndexExpr(e) and
      nRoot = n + 1 and
      nParsedPath = nRoot + 1 and
      (
        none()
        or
        index = n and result = e.(KeyPathExpr).getImmediateRoot() and partialAccessor = "Root()"
        or
        index = nRoot and
        result = e.(KeyPathExpr).getImmediateParsedPath() and
        partialAccessor = "ParsedPath()"
      )
    )
    or
    exists(int n, int nSubExpr |
      n = 0 + getMaximumChildrenIndexExpr(e) and
      nSubExpr = n + 1 and
      (
        none()
        or
        index = n and
        result = e.(LazyInitializerExpr).getImmediateSubExpr() and
        partialAccessor = "SubExpr()"
      )
    )
    or
    exists(int n, int nBase |
      n = 0 + getMaximumChildrenIndexExpr(e) and
      nBase = n + 1 and
      (
        none()
        or
        index = n and result = e.(LookupExpr).getImmediateBase() and partialAccessor = "Base()"
      )
    )
    or
    exists(int n, int nEscapingClosure, int nNonescapingClosure, int nSubExpr |
      n = 0 + getMaximumChildrenIndexExpr(e) and
      nEscapingClosure = n + 1 and
      nNonescapingClosure = nEscapingClosure + 1 and
      nSubExpr = nNonescapingClosure + 1 and
      (
        none()
        or
        index = n and
        result = e.(MakeTemporarilyEscapableExpr).getImmediateEscapingClosure() and
        partialAccessor = "EscapingClosure()"
        or
        index = nEscapingClosure and
        result = e.(MakeTemporarilyEscapableExpr).getImmediateNonescapingClosure() and
        partialAccessor = "NonescapingClosure()"
        or
        index = nNonescapingClosure and
        result = e.(MakeTemporarilyEscapableExpr).getImmediateSubExpr() and
        partialAccessor = "SubExpr()"
      )
    )
    or
    exists(int n, int nSubExpr |
      n = 0 + getMaximumChildrenIndexExpr(e) and
      nSubExpr = n + 1 and
      (
        none()
        or
        index = n and
        result = e.(ObjCSelectorExpr).getImmediateSubExpr() and
        partialAccessor = "SubExpr()"
      )
    )
    or
    exists(int n, int nSubExpr |
      n = 0 + getMaximumChildrenIndexExpr(e) and
      nSubExpr = n + 1 and
      (
        none()
        or
        index = n and
        result = e.(OneWayExpr).getImmediateSubExpr() and
        partialAccessor = "SubExpr()"
      )
    )
    or
    exists(int n, int nSubExpr, int nExistential, int nOpaqueExpr |
      n = 0 + getMaximumChildrenIndexExpr(e) and
      nSubExpr = n + 1 and
      nExistential = nSubExpr + 1 and
      nOpaqueExpr = nExistential + 1 and
      (
        none()
        or
        index = n and
        result = e.(OpenExistentialExpr).getImmediateSubExpr() and
        partialAccessor = "SubExpr()"
        or
        index = nSubExpr and
        result = e.(OpenExistentialExpr).getImmediateExistential() and
        partialAccessor = "Existential()"
        or
        index = nExistential and
        result = e.(OpenExistentialExpr).getImmediateOpaqueExpr() and
        partialAccessor = "OpaqueExpr()"
      )
    )
    or
    exists(int n, int nSubExpr |
      n = 0 + getMaximumChildrenIndexExpr(e) and
      nSubExpr = n + 1 and
      (
        none()
        or
        index = n and
        result = e.(OptionalEvaluationExpr).getImmediateSubExpr() and
        partialAccessor = "SubExpr()"
      )
    )
    or
    exists(int n, int nSubPattern |
      n = 0 + getMaximumChildrenIndexPattern(e) and
      nSubPattern = n + 1 and
      (
        none()
        or
        index = n and
        result = e.(OptionalSomePattern).getImmediateSubPattern() and
        partialAccessor = "SubPattern()"
      )
    )
    or
    exists(int n, int nSubPattern |
      n = 0 + getMaximumChildrenIndexPattern(e) and
      nSubPattern = n + 1 and
      (
        none()
        or
        index = n and
        result = e.(ParenPattern).getImmediateSubPattern() and
        partialAccessor = "SubPattern()"
      )
    )
    or
    exists(int n, int nInit, int nPattern |
      n = 0 + getMaximumChildrenIndexDecl(e) and
      nInit = n + 1 + max(int i | i = 0 or exists(e.(PatternBindingDecl).getImmediateInit(i)) | i) and
      nPattern =
        nInit + 1 + max(int i | i = 0 or exists(e.(PatternBindingDecl).getImmediatePattern(i)) | i) and
      (
        none()
        or
        result = e.(PatternBindingDecl).getImmediateInit(index - n) and
        partialAccessor = "Init(" + (index - n).toString() + ")"
        or
        result = e.(PatternBindingDecl).getImmediatePattern(index - nInit) and
        partialAccessor = "Pattern(" + (index - nInit).toString() + ")"
      )
    )
    or
    exists(int n, int nSubExpr |
      n = 0 + getMaximumChildrenIndexExpr(e) and
      nSubExpr = n + 1 and
      (
        none()
        or
        index = n and
        result = e.(RebindSelfInConstructorExpr).getImmediateSubExpr() and
        partialAccessor = "SubExpr()"
      )
    )
    or
    exists(int n, int nResult |
      n = 0 + getMaximumChildrenIndexStmt(e) and
      nResult = n + 1 and
      (
        none()
        or
        index = n and result = e.(ReturnStmt).getImmediateResult() and partialAccessor = "Result()"
      )
    )
    or
    exists(int n, int nElement |
      n = 0 + getMaximumChildrenIndexExpr(e) and
      nElement = n + 1 + max(int i | i = 0 or exists(e.(SequenceExpr).getImmediateElement(i)) | i) and
      (
        none()
        or
        result = e.(SequenceExpr).getImmediateElement(index - n) and
        partialAccessor = "Element(" + (index - n).toString() + ")"
      )
    )
    or
    exists(int n, int nSubExpr, int nBody |
      n = 0 + getMaximumChildrenIndexExpr(e) and
      nSubExpr = n + 1 and
      nBody = nSubExpr + 1 and
      (
        none()
        or
        index = n and result = e.(TapExpr).getImmediateSubExpr() and partialAccessor = "SubExpr()"
        or
        index = nSubExpr and result = e.(TapExpr).getImmediateBody() and partialAccessor = "Body()"
      )
    )
    or
    exists(int n, int nSubExpr |
      n = 0 + getMaximumChildrenIndexStmt(e) and
      nSubExpr = n + 1 and
      (
        none()
        or
        index = n and result = e.(ThrowStmt).getImmediateSubExpr() and partialAccessor = "SubExpr()"
      )
    )
    or
    exists(int n, int nBody |
      n = 0 + getMaximumChildrenIndexDecl(e) and
      nBody = n + 1 and
      (
        none()
        or
        index = n and
        result = e.(TopLevelCodeDecl).getImmediateBody() and
        partialAccessor = "Body()"
      )
    )
    or
    exists(int n, int nSubExpr |
      n = 0 + getMaximumChildrenIndexExpr(e) and
      nSubExpr = n + 1 and
      (
        none()
        or
        index = n and
        result = e.(TupleElementExpr).getImmediateSubExpr() and
        partialAccessor = "SubExpr()"
      )
    )
    or
    exists(int n, int nElement |
      n = 0 + getMaximumChildrenIndexExpr(e) and
      nElement = n + 1 + max(int i | i = 0 or exists(e.(TupleExpr).getImmediateElement(i)) | i) and
      (
        none()
        or
        result = e.(TupleExpr).getImmediateElement(index - n) and
        partialAccessor = "Element(" + (index - n).toString() + ")"
      )
    )
    or
    exists(int n, int nElement |
      n = 0 + getMaximumChildrenIndexPattern(e) and
      nElement = n + 1 + max(int i | i = 0 or exists(e.(TuplePattern).getImmediateElement(i)) | i) and
      (
        none()
        or
        result = e.(TuplePattern).getImmediateElement(index - n) and
        partialAccessor = "Element(" + (index - n).toString() + ")"
      )
    )
    or
    exists(int n, int nTypeRepr |
      n = 0 + getMaximumChildrenIndexExpr(e) and
      nTypeRepr = n + 1 and
      (
        none()
        or
        index = n and
        result = e.(TypeExpr).getImmediateTypeRepr() and
        partialAccessor = "TypeRepr()"
      )
    )
    or
    exists(int n, int nSubPattern, int nTypeRepr |
      n = 0 + getMaximumChildrenIndexPattern(e) and
      nSubPattern = n + 1 and
      nTypeRepr = nSubPattern + 1 and
      (
        none()
        or
        index = n and
        result = e.(TypedPattern).getImmediateSubPattern() and
        partialAccessor = "SubPattern()"
        or
        index = nSubPattern and
        result = e.(TypedPattern).getImmediateTypeRepr() and
        partialAccessor = "TypeRepr()"
      )
    )
    or
    exists(int n, int nBase |
      n = 0 + getMaximumChildrenIndexExpr(e) and
      nBase = n + 1 and
      (
        none()
        or
        index = n and
        result = e.(UnresolvedDotExpr).getImmediateBase() and
        partialAccessor = "Base()"
      )
    )
    or
    exists(int n, int nSubPattern |
      n = 0 + getMaximumChildrenIndexExpr(e) and
      nSubPattern = n + 1 and
      (
        none()
        or
        index = n and
        result = e.(UnresolvedPatternExpr).getImmediateSubPattern() and
        partialAccessor = "SubPattern()"
      )
    )
    or
    exists(int n, int nSubExpr |
      n = 0 + getMaximumChildrenIndexExpr(e) and
      nSubExpr = n + 1 and
      (
        none()
        or
        index = n and
        result = e.(VarargExpansionExpr).getImmediateSubExpr() and
        partialAccessor = "SubExpr()"
      )
    )
    or
    exists(int n, int nResult |
      n = 0 + getMaximumChildrenIndexStmt(e) and
      nResult = n + 1 + max(int i | i = 0 or exists(e.(YieldStmt).getImmediateResult(i)) | i) and
      (
        none()
        or
        result = e.(YieldStmt).getImmediateResult(index - n) and
        partialAccessor = "Result(" + (index - n).toString() + ")"
      )
    )
    or
    exists(int n, int nAccessorDecl |
      n = 0 + getMaximumChildrenIndexValueDecl(e) and
      nAccessorDecl =
        n + 1 +
          max(int i | i = 0 or exists(e.(AbstractStorageDecl).getImmediateAccessorDecl(i)) | i) and
      (
        none()
        or
        result = e.(AbstractStorageDecl).getImmediateAccessorDecl(index - n) and
        partialAccessor = "AccessorDecl(" + (index - n).toString() + ")"
      )
    )
    or
    exists(int n, int nElement |
      n = 0 + getMaximumChildrenIndexCollectionExpr(e) and
      nElement = n + 1 + max(int i | i = 0 or exists(e.(ArrayExpr).getImmediateElement(i)) | i) and
      (
        none()
        or
        result = e.(ArrayExpr).getImmediateElement(index - n) and
        partialAccessor = "Element(" + (index - n).toString() + ")"
      )
    )
    or
    exists(int n, int nElement |
      n = 0 + getMaximumChildrenIndexCollectionExpr(e) and
      nElement = n + 1 + max(int i | i = 0 or exists(e.(DictionaryExpr).getImmediateElement(i)) | i) and
      (
        none()
        or
        result = e.(DictionaryExpr).getImmediateElement(index - n) and
        partialAccessor = "Element(" + (index - n).toString() + ")"
      )
    )
    or
    exists(int n, int nBody, int nCatch |
      n = 0 + getMaximumChildrenIndexLabeledStmt(e) and
      nBody = n + 1 and
      nCatch = nBody + 1 + max(int i | i = 0 or exists(e.(DoCatchStmt).getImmediateCatch(i)) | i) and
      (
        none()
        or
        index = n and result = e.(DoCatchStmt).getImmediateBody() and partialAccessor = "Body()"
        or
        result = e.(DoCatchStmt).getImmediateCatch(index - nBody) and
        partialAccessor = "Catch(" + (index - nBody).toString() + ")"
      )
    )
    or
    exists(int n, int nBody |
      n = 0 + getMaximumChildrenIndexLabeledStmt(e) and
      nBody = n + 1 and
      (
        none()
        or
        index = n and result = e.(DoStmt).getImmediateBody() and partialAccessor = "Body()"
      )
    )
    or
    exists(int n, int nParam |
      n = 0 + getMaximumChildrenIndexValueDecl(e) and
      nParam = n + 1 + max(int i | i = 0 or exists(e.(EnumElementDecl).getImmediateParam(i)) | i) and
      (
        none()
        or
        result = e.(EnumElementDecl).getImmediateParam(index - n) and
        partialAccessor = "Param(" + (index - n).toString() + ")"
      )
    )
    or
    exists(int n, int nPattern, int nSequence, int nWhere, int nBody |
      n = 0 + getMaximumChildrenIndexLabeledStmt(e) and
      nPattern = n + 1 and
      nSequence = nPattern + 1 and
      nWhere = nSequence + 1 and
      nBody = nWhere + 1 and
      (
        none()
        or
        index = n and
        result = e.(ForEachStmt).getImmediatePattern() and
        partialAccessor = "Pattern()"
        or
        index = nPattern and
        result = e.(ForEachStmt).getImmediateSequence() and
        partialAccessor = "Sequence()"
        or
        index = nSequence and
        result = e.(ForEachStmt).getImmediateWhere() and
        partialAccessor = "Where()"
        or
        index = nWhere and
        result = e.(ForEachStmt).getImmediateBody() and
        partialAccessor = "Body()"
      )
    )
    or
    exists(int n, int nInterpolationCountExpr, int nLiteralCapacityExpr, int nAppendingExpr |
      n = 0 + getMaximumChildrenIndexLiteralExpr(e) and
      nInterpolationCountExpr = n + 1 and
      nLiteralCapacityExpr = nInterpolationCountExpr + 1 and
      nAppendingExpr = nLiteralCapacityExpr + 1 and
      (
        none()
        or
        index = n and
        result = e.(InterpolatedStringLiteralExpr).getImmediateInterpolationCountExpr() and
        partialAccessor = "InterpolationCountExpr()"
        or
        index = nInterpolationCountExpr and
        result = e.(InterpolatedStringLiteralExpr).getImmediateLiteralCapacityExpr() and
        partialAccessor = "LiteralCapacityExpr()"
        or
        index = nLiteralCapacityExpr and
        result = e.(InterpolatedStringLiteralExpr).getImmediateAppendingExpr() and
        partialAccessor = "AppendingExpr()"
      )
    )
    or
    exists(int n, int nCondition |
      n = 0 + getMaximumChildrenIndexLabeledStmt(e) and
      nCondition = n + 1 and
      (
        none()
        or
        index = n and
        result = e.(LabeledConditionalStmt).getImmediateCondition() and
        partialAccessor = "Condition()"
      )
    )
    or
    exists(int n, int nCondition, int nBody |
      n = 0 + getMaximumChildrenIndexLabeledStmt(e) and
      nCondition = n + 1 and
      nBody = nCondition + 1 and
      (
        none()
        or
        index = n and
        result = e.(RepeatWhileStmt).getImmediateCondition() and
        partialAccessor = "Condition()"
        or
        index = nCondition and
        result = e.(RepeatWhileStmt).getImmediateBody() and
        partialAccessor = "Body()"
      )
    )
    or
    exists(int n, int nBase |
      n = 0 + getMaximumChildrenIndexApplyExpr(e) and
      nBase = n + 1 and
      (
        none()
        or
        index = n and result = e.(SelfApplyExpr).getImmediateBase() and partialAccessor = "Base()"
      )
    )
    or
    exists(int n, int nArgument |
      n = 0 + getMaximumChildrenIndexLookupExpr(e) and
      nArgument =
        n + 1 + max(int i | i = 0 or exists(e.(SubscriptExpr).getImmediateArgument(i)) | i) and
      (
        none()
        or
        result = e.(SubscriptExpr).getImmediateArgument(index - n) and
        partialAccessor = "Argument(" + (index - n).toString() + ")"
      )
    )
    or
    exists(int n, int nExpr, int nCase |
      n = 0 + getMaximumChildrenIndexLabeledStmt(e) and
      nExpr = n + 1 and
      nCase = nExpr + 1 + max(int i | i = 0 or exists(e.(SwitchStmt).getImmediateCase(i)) | i) and
      (
        none()
        or
        index = n and result = e.(SwitchStmt).getImmediateExpr() and partialAccessor = "Expr()"
        or
        result = e.(SwitchStmt).getImmediateCase(index - nExpr) and
        partialAccessor = "Case(" + (index - nExpr).toString() + ")"
      )
    )
    or
    exists(int n, int nBody |
      n = 0 + getMaximumChildrenIndexLabeledConditionalStmt(e) and
      nBody = n + 1 and
      (
        none()
        or
        index = n and result = e.(GuardStmt).getImmediateBody() and partialAccessor = "Body()"
      )
    )
    or
    exists(int n, int nThen, int nElse |
      n = 0 + getMaximumChildrenIndexLabeledConditionalStmt(e) and
      nThen = n + 1 and
      nElse = nThen + 1 and
      (
        none()
        or
        index = n and result = e.(IfStmt).getImmediateThen() and partialAccessor = "Then()"
        or
        index = nThen and result = e.(IfStmt).getImmediateElse() and partialAccessor = "Else()"
      )
    )
    or
    exists(int n, int nParam |
      n =
        0 + getMaximumChildrenIndexAbstractStorageDecl(e) + getMaximumChildrenIndexGenericContext(e) and
      nParam = n + 1 + max(int i | i = 0 or exists(e.(SubscriptDecl).getImmediateParam(i)) | i) and
      (
        none()
        or
        result = e.(SubscriptDecl).getImmediateParam(index - n) and
        partialAccessor = "Param(" + (index - n).toString() + ")"
      )
    )
    or
    exists(int n, int nBody |
      n = 0 + getMaximumChildrenIndexLabeledConditionalStmt(e) and
      nBody = n + 1 and
      (
        none()
        or
        index = n and result = e.(WhileStmt).getImmediateBody() and partialAccessor = "Body()"
      )
    )
  }
}

/**
 * Gets the "immediate" parent of `e`. "Immediate" means not taking into account node resolution: for example
 * if `e` has conversions, `getImmediateParent(e)` will give the bottom conversion in the hidden AST.
 */
Element getImmediateParent(Element e) {
  // `unique` is used here to tell the optimizer that there is in fact only one result
  // this is tested by the `library-tests/parent/no_double_parents.ql` test
  result = unique(Element x | e = Impl::getImmediateChild(x, _, _) | x)
}

/**
 * Gets the immediate child indexed at `index`. Indexes are not guaranteed to be contiguous, but are guaranteed to be distinct. `accessor` is bound the the method giving the given child.
 */
Element getImmediateChildAndAccessor(Element e, int index, string accessor) {
  exists(string partialAccessor |
    result = Impl::getImmediateChild(e, index, partialAccessor) and
    accessor = "getImmediate" + partialAccessor
  )
}

/**
 * Gets the child indexed at `index`. Indexes are not guaranteed to be contiguous, but are guaranteed to be distinct. `accessor` is bound the the method giving the given child. Node resolution is carried out.
 */
Element getChildAndAccessor(Element e, int index, string accessor) {
  exists(string partialAccessor |
    result = Impl::getImmediateChild(e, index, partialAccessor).resolve() and
    accessor = "get" + partialAccessor
  )
}
